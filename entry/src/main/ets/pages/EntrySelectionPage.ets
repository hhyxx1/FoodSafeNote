import { router } from '@kit.ArkUI';

@Entry
@Component
struct EntrySelectionPage {
  build() {
    Column() {
      // å¯¼èˆªæ 
      Row() {
        Button('è¿”å›ž')
          .height(36).fontSize(14).fontColor('#007DFF')
          .backgroundColor(Color.Transparent)
          .onClick(() => { router.back(); })
        Text('æ·»åŠ é£Ÿå“')
          .fontSize(18).fontWeight(FontWeight.Bold).fontColor($r('app.color.text_primary'))
          .layoutWeight(1).textAlign(TextAlign.Center)
        Text('').width(56)
      }
      .width('100%').padding({ left: 8, right: 8, top: 8, bottom: 8 })
      .backgroundColor($r('app.color.card_background'))

      Scroll() {
        Column({ space: 16 }) {
          // æ ‡é¢˜
          Column({ space: 8 }) {
            Text('é€‰æ‹©å…¥åº“æ–¹å¼')
              .fontSize(20).fontWeight(FontWeight.Bold).fontColor($r('app.color.text_primary'))
            Text('æ‰«ç å…¥åº“å¯è‡ªåŠ¨åŒ¹é…17ä¸‡+å•†å“ä¿¡æ¯')
              .fontSize(14).fontColor($r('app.color.text_hint'))
          }
          .width('100%').alignItems(HorizontalAlign.Center).padding({ top: 24 })

          // æ‰«ç å…¥åº“
          this.buildEntryCard('ðŸ“·', 'æ‰«ç å…¥åº“', 'æ‰«æå•†å“æ¡ç ï¼Œè‡ªåŠ¨åŒ¹é…å•†å“ä¿¡æ¯', () => {
            router.pushUrl({ url: 'pages/BarcodeScanPage' });
          })

          // æ‹ç…§å…¥åº“
          this.buildEntryCard('ðŸ“¸', 'æ‹ç…§å…¥åº“', 'æ‹æ‘„é£Ÿå“ç…§ç‰‡ï¼Œé€‚åˆç”Ÿé²œæžœè”¬', () => {
            router.pushUrl({ url: 'pages/AddFoodPage' });
          })

          // æ‰‹åŠ¨å…¥åº“
          this.buildEntryCard('âœï¸', 'æ‰‹åŠ¨å…¥åº“', 'æ‰‹åŠ¨å¡«å†™é£Ÿå“ä¿¡æ¯ï¼Œé€‚åˆæ— æ¡ç å•†å“', () => {
            router.pushUrl({ url: 'pages/AddFoodPage' });
          })

          // æ‰¹é‡æ·»åŠ 
          this.buildEntryCard('ðŸ“‹', 'æ‰¹é‡æ·»åŠ ', 'è¿žç»­æ‰«ç /æ‹ç…§å¤šä»¶é£Ÿå“ï¼Œç»Ÿä¸€è¡¥å……ä¿¡æ¯åŽæ‰¹é‡å…¥åº“', () => {
            router.pushUrl({ url: 'pages/BatchAddPage' });
          })

          // åº•éƒ¨å¿«æ·å…¥å£
          Row({ space: 16 }) {
            Button('äº§å“å­—å…¸')
              .height(40).fontSize(14).fontColor('#007DFF')
              .backgroundColor('#E8F0FE').borderRadius(8).layoutWeight(1)
              .onClick(() => { router.pushUrl({ url: 'pages/ProductDictPage' }); })
          }
          .width('100%').padding({ left: 16, right: 16, bottom: 16 })
        }
      }
      .layoutWeight(1).scrollBar(BarState.Off)
    }
    .width('100%').height('100%').backgroundColor($r('app.color.page_background'))
  }

  @Builder
  buildEntryCard(icon: string, title: string, subtitle: string, action: () => void) {
    Column({ space: 8 }) {
      Text(icon).fontSize(36)
      Text(title).fontSize(16).fontWeight(FontWeight.Medium).fontColor($r('app.color.text_primary'))
      Text(subtitle).fontSize(13).fontColor($r('app.color.text_hint')).textAlign(TextAlign.Center)
    }
    .width('100%').padding(20).margin({ left: 16, right: 16 })
    .backgroundColor($r('app.color.card_background')).borderRadius(16)
    .alignItems(HorizontalAlign.Center)
    .shadow({ radius: 4, color: '#0D000000', offsetX: 0, offsetY: 2 })
    .onClick(action)
  }
}
